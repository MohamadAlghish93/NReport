@model NReport.Models.DesignModel

@{
    ViewBag.Title = "New";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@*<link rel="stylesheet" type="text/css" href="~/Content/Designer.css" />*@
<script type="text/javascript">
    function reportDesigner_ExitDesigner(s, e) {
        window.location = '@Url.Action("Index", new { token = "SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c" })';
    }
</script>


@{
    var designer = Html.DevExpress().ReportDesigner(settings =>
    {
        settings.Name = "reportDesigner";

        settings.Height = Unit.Percentage(100);
        settings.ControlStyle.CssClass = "fullscreen";

        if (Model.DataSource != null)
        {
            settings.DataSources.Add("Tarasol", Model.DataSource);
        }

        settings.ClientSideEvents.ExitDesigner = "reportDesigner_ExitDesigner";

    });


    designer.Bind(new XtraReport()).Render();
    }

